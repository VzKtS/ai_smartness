#!/bin/bash
#
# AI Smartness CLI
# Usage: ai [command] [options]
#

# Find the ai_smartness directory
find_ai_smartness() {
    local dir="$PWD"
    while [ "$dir" != "/" ]; do
        if [ -d "$dir/ai_smartness" ]; then
            echo "$dir/ai_smartness"
            return 0
        fi
        dir="$(dirname "$dir")"
    done
    return 1
}

AI_SMARTNESS_PATH=$(find_ai_smartness)

if [ -z "$AI_SMARTNESS_PATH" ]; then
    echo "Error: Could not find ai_smartness directory"
    echo "Make sure you're in a project with AI Smartness installed"
    exit 1
fi

# Add parent to PYTHONPATH for imports
export PYTHONPATH="${AI_SMARTNESS_PATH%/*}:$PYTHONPATH"

exec python3 "$AI_SMARTNESS_PATH/cli/main.py" "$@"
